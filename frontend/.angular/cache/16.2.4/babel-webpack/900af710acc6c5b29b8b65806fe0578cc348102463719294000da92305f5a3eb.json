{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/usuario.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@ionic/angular\";\nfunction UsuarioListPage_ion_item_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\")(1, \"ion-label\")(2, \"h1\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"ion-button\", 4);\n    i0.ɵɵlistener(\"click\", function UsuarioListPage_ion_item_6_Template_ion_button_click_5_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const u_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.editUsuario(u_r1.id));\n    });\n    i0.ɵɵtext(6, \"Modificar oferta\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"ion-button\", 4);\n    i0.ɵɵlistener(\"click\", function UsuarioListPage_ion_item_6_Template_ion_button_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const u_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.deleteUsuario(u_r1.id));\n    });\n    i0.ɵɵtext(8, \"Eliminar\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const u_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.c.nombre);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Email: \", u_r1.email, \" \");\n  }\n}\nclass UsuarioListPage {\n  constructor(usuarioService, router) {\n    this.usuarioService = usuarioService;\n    this.router = router;\n    this.usuarios = [];\n    this.searchParams = {};\n    this.filteredUsuarios = [];\n  }\n  ngOnInit() {\n    this.loadUsuarios();\n    this.usuarioService.usuarioUpdated$.subscribe(() => {\n      this.loadUsuarios();\n    });\n  }\n  ngOnDestroy() {\n    if (this.refreshSubscription) {\n      this.refreshSubscription.unsubscribe();\n    }\n  }\n  loadUsuarios() {\n    this.usuarioService.getUsuarios().subscribe(data => {\n      this.usuarios = data;\n      this.filteredUsuarios = data;\n    });\n  }\n  gotoUsuarioAdd() {\n    this.router.navigateByUrl('/usuario-add');\n  }\n  editUsuario(usuarioId) {\n    this.router.navigate(['/usuario-update', usuarioId]);\n  }\n  deleteUsuario(usuarioId) {\n    this.usuarioService.deleteUsuario(usuarioId).subscribe(() => {\n      console.log('Usuario eliminado');\n      this.loadUsuarios();\n    });\n  }\n}\n_class = UsuarioListPage;\n_class.ɵfac = function UsuarioListPage_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.UsuarioService), i0.ɵɵdirectiveInject(i2.Router));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-usuario-list\"]],\n  decls: 10,\n  vars: 3,\n  consts: [[3, \"translucent\"], [3, \"fullscreen\"], [4, \"ngFor\", \"ngForOf\"], [\"expand\", \"full\", 3, \"click\"], [3, \"click\"]],\n  template: function UsuarioListPage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\")(2, \"ion-title\");\n      i0.ɵɵtext(3, \"usuario-list\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(4, \"ion-content\", 1)(5, \"ion-list\");\n      i0.ɵɵtemplate(6, UsuarioListPage_ion_item_6_Template, 9, 2, \"ion-item\", 2);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"ion-footer\")(8, \"ion-button\", 3);\n      i0.ɵɵlistener(\"click\", function UsuarioListPage_Template_ion_button_click_8_listener() {\n        return ctx.gotoUsuarioAdd();\n      });\n      i0.ɵɵtext(9, \"A\\u00F1adir nuevo coche\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"translucent\", true);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"fullscreen\", true);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.usuarios);\n    }\n  },\n  dependencies: [i3.NgForOf, i4.IonButton, i4.IonContent, i4.IonFooter, i4.IonHeader, i4.IonItem, i4.IonLabel, i4.IonList, i4.IonTitle, i4.IonToolbar],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { UsuarioListPage };","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","UsuarioListPage_ion_item_6_Template_ion_button_click_5_listener","restoredCtx","ɵɵrestoreView","_r3","u_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","editUsuario","id","UsuarioListPage_ion_item_6_Template_ion_button_click_7_listener","ctx_r4","deleteUsuario","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","c","nombre","ɵɵtextInterpolate1","email","UsuarioListPage","constructor","usuarioService","router","usuarios","searchParams","filteredUsuarios","ngOnInit","loadUsuarios","usuarioUpdated$","subscribe","ngOnDestroy","refreshSubscription","unsubscribe","getUsuarios","data","gotoUsuarioAdd","navigateByUrl","usuarioId","navigate","console","log","ɵɵdirectiveInject","i1","UsuarioService","i2","Router","selectors","decls","vars","consts","template","UsuarioListPage_Template","rf","ctx","ɵɵtemplate","UsuarioListPage_ion_item_6_Template","UsuarioListPage_Template_ion_button_click_8_listener","ɵɵproperty"],"sources":["C:\\Users\\sombr\\Documents\\AED\\Proyecto\\frontend\\src\\app\\usuario-list\\usuario-list.page.ts","C:\\Users\\sombr\\Documents\\AED\\Proyecto\\frontend\\src\\app\\usuario-list\\usuario-list.page.html"],"sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { UsuarioService } from '../services/usuario.service';\nimport { Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-usuario-list',\n  templateUrl: './usuario-list.page.html',\n  styleUrls: ['./usuario-list.page.scss'],\n})\nexport class UsuarioListPage implements OnInit, OnDestroy {\n  usuarios: any = [];\n  private refreshSubscription!: Subscription;\n  searchParams: any = {};\n  filteredUsuarios: any = [];\n\n  constructor(private usuarioService: UsuarioService, private router: Router) {}\n\n  ngOnInit() {\n    this.loadUsuarios();\n    this.usuarioService.usuarioUpdated$.subscribe(() => {\n      this.loadUsuarios();\n    });\n  }\n\n  ngOnDestroy() {\n    if (this.refreshSubscription) {\n      this.refreshSubscription.unsubscribe();\n    }\n  }\n\n  loadUsuarios() {\n    this.usuarioService.getUsuarios().subscribe((data) => {\n      this.usuarios = data;\n      this.filteredUsuarios = data;\n    });\n  }\n\n  gotoUsuarioAdd() {\n    this.router.navigateByUrl('/usuario-add');\n  }\n\n  editUsuario(usuarioId: number) {\n    this.router.navigate(['/usuario-update', usuarioId]);\n  }\n\n  deleteUsuario(usuarioId: number) {\n    this.usuarioService.deleteUsuario(usuarioId).subscribe(() => {\n      console.log('Usuario eliminado');\n      this.loadUsuarios();\n    });\n  }\n}\n","<ion-header [translucent]=\"true\">\n  <ion-toolbar>\n    <ion-title>usuario-list</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content [fullscreen]=\"true\">\n  <ion-list>\n    <ion-item *ngFor=\"let u of usuarios\">\n      <ion-label>\n        <h1>{{c.nombre}}</h1>\n        Email: {{u.email}}\n      </ion-label>\n      <ion-button (click)=\"editUsuario(u.id)\">Modificar oferta</ion-button>\n      <ion-button (click)=\"deleteUsuario(u.id)\">Eliminar</ion-button>\n    </ion-item>\n  </ion-list>\n</ion-content> \n\n<ion-footer>\n  <ion-button (click)=\"gotoUsuarioAdd()\" expand=\"full\">Añadir nuevo coche</ion-button>\n</ion-footer>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}