{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/direccion.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@ionic/angular\";\nfunction DireccionListPage_ion_item_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\")(1, \"ion-label\")(2, \"h1\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"ion-button\", 4);\n    i0.ɵɵlistener(\"click\", function DireccionListPage_ion_item_6_Template_ion_button_click_5_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const d_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.editDireccion(d_r1.id));\n    });\n    i0.ɵɵtext(6, \"Modificar direccion\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"ion-button\", 4);\n    i0.ɵɵlistener(\"click\", function DireccionListPage_ion_item_6_Template_ion_button_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const d_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.deleteDireccion(d_r1.id));\n    });\n    i0.ɵɵtext(8, \"Eliminar\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const d_r1 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(d_r1.calle);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" Ciudad: \", d_r1.ciudad, \" Id_Usuario: \", d_r1.id_usuario, \" \");\n  }\n}\nclass DireccionListPage {\n  constructor(direccionService, router) {\n    this.direccionService = direccionService;\n    this.router = router;\n    this.direcciones = [];\n    this.searchParams = {};\n    this.filteredDirecciones = [];\n  }\n  ngOnInit() {\n    /*this.loadDirecciones();*/\n    this.direccionService.direccionUpdated$.subscribe(() => {\n      /*this.loadDirecciones();*/\n    });\n  }\n  ngOnDestroy() {\n    if (this.refreshSubscription) {\n      this.refreshSubscription.unsubscribe();\n    }\n  }\n  loadDirecciones() {\n    this.direccionService.getDirecciones().subscribe(data => {\n      this.direcciones = data;\n      this.filteredDirecciones = data;\n    });\n  }\n  gotoDireccionAdd() {\n    this.router.navigateByUrl('/direccion-add');\n  }\n  gotoHome() {\n    this.router.navigateByUrl('/home');\n  }\n  editDireccion(direccionId) {\n    this.router.navigate(['/direccion-update', direccionId]);\n  }\n  deleteDireccion(direccionId) {\n    this.direccionService.deleteDireccion(direccionId).subscribe(() => {\n      console.log('Usuario eliminado');\n      this.loadDirecciones();\n    });\n  }\n}\n_class = DireccionListPage;\n_class.ɵfac = function DireccionListPage_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.DireccionService), i0.ɵɵdirectiveInject(i2.Router));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-direccion-list\"]],\n  decls: 12,\n  vars: 3,\n  consts: [[3, \"translucent\"], [3, \"fullscreen\"], [4, \"ngFor\", \"ngForOf\"], [\"expand\", \"full\", 3, \"click\"], [3, \"click\"]],\n  template: function DireccionListPage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\")(2, \"ion-title\");\n      i0.ɵɵtext(3, \"direccion-list\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(4, \"ion-content\", 1)(5, \"ion-list\");\n      i0.ɵɵtemplate(6, DireccionListPage_ion_item_6_Template, 9, 3, \"ion-item\", 2);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"ion-footer\")(8, \"ion-button\", 3);\n      i0.ɵɵlistener(\"click\", function DireccionListPage_Template_ion_button_click_8_listener() {\n        return ctx.gotoDireccionAdd();\n      });\n      i0.ɵɵtext(9, \"A\\u00F1adir nueva direccion\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"ion-button\", 3);\n      i0.ɵɵlistener(\"click\", function DireccionListPage_Template_ion_button_click_10_listener() {\n        return ctx.gotoHome();\n      });\n      i0.ɵɵtext(11, \"Volver al inicio\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"translucent\", true);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"fullscreen\", true);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.direcciones);\n    }\n  },\n  dependencies: [i3.NgForOf, i4.IonButton, i4.IonContent, i4.IonFooter, i4.IonHeader, i4.IonItem, i4.IonLabel, i4.IonList, i4.IonTitle, i4.IonToolbar],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { DireccionListPage };","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","DireccionListPage_ion_item_6_Template_ion_button_click_5_listener","restoredCtx","ɵɵrestoreView","_r3","d_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","editDireccion","id","DireccionListPage_ion_item_6_Template_ion_button_click_7_listener","ctx_r4","deleteDireccion","ɵɵadvance","ɵɵtextInterpolate","calle","ɵɵtextInterpolate2","ciudad","id_usuario","DireccionListPage","constructor","direccionService","router","direcciones","searchParams","filteredDirecciones","ngOnInit","direccionUpdated$","subscribe","ngOnDestroy","refreshSubscription","unsubscribe","loadDirecciones","getDirecciones","data","gotoDireccionAdd","navigateByUrl","gotoHome","direccionId","navigate","console","log","ɵɵdirectiveInject","i1","DireccionService","i2","Router","selectors","decls","vars","consts","template","DireccionListPage_Template","rf","ctx","ɵɵtemplate","DireccionListPage_ion_item_6_Template","DireccionListPage_Template_ion_button_click_8_listener","DireccionListPage_Template_ion_button_click_10_listener","ɵɵproperty"],"sources":["C:\\Users\\sombr\\Documents\\AED\\Proyecto\\frontend\\src\\app\\direccion-list\\direccion-list.page.ts","C:\\Users\\sombr\\Documents\\AED\\Proyecto\\frontend\\src\\app\\direccion-list\\direccion-list.page.html"],"sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { DireccionService } from '../services/direccion.service';\nimport { Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-direccion-list',\n  templateUrl: './direccion-list.page.html',\n  styleUrls: ['./direccion-list.page.scss'],\n})\nexport class DireccionListPage implements OnInit, OnDestroy {\n  direcciones: any = [];\n  private refreshSubscription!: Subscription;\n  searchParams: any = {};\n  filteredDirecciones: any = [];\n\n  constructor(private direccionService: DireccionService, private router: Router) {}\n\n  ngOnInit() {\n    /*this.loadDirecciones();*/\n    this.direccionService.direccionUpdated$.subscribe(() => {\n      /*this.loadDirecciones();*/\n    });\n  }\n\n  ngOnDestroy() {\n    if (this.refreshSubscription) {\n      this.refreshSubscription.unsubscribe();\n    }\n  }\n\n  loadDirecciones() {\n    this.direccionService.getDirecciones().subscribe((data) => {\n      this.direcciones = data;\n      this.filteredDirecciones = data;\n    });\n  }\n\n  gotoDireccionAdd() {\n    this.router.navigateByUrl('/direccion-add');\n  }\n\n  gotoHome() {\n    this.router.navigateByUrl('/home');\n  }\n\n  editDireccion(direccionId: number) {\n    this.router.navigate(['/direccion-update', direccionId]);\n  }\n\n  deleteDireccion(direccionId: number) {\n    this.direccionService.deleteDireccion(direccionId).subscribe(() => {\n      console.log('Usuario eliminado');\n      this.loadDirecciones();\n    });\n  }\n}\n","<ion-header [translucent]=\"true\">\n  <ion-toolbar>\n    <ion-title>direccion-list</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content [fullscreen]=\"true\">\n  <ion-list>\n    <ion-item *ngFor=\"let d of direcciones\">\n      <ion-label>\n        <h1>{{d.calle}}</h1>\n        Ciudad: {{d.ciudad}}\n        Id_Usuario: {{d.id_usuario}}\n      </ion-label>\n      <ion-button (click)=\"editDireccion(d.id)\">Modificar direccion</ion-button>\n      <ion-button (click)=\"deleteDireccion(d.id)\">Eliminar</ion-button>\n    </ion-item>\n  </ion-list>\n</ion-content> \n\n<ion-footer>\n  <ion-button (click)=\"gotoDireccionAdd()\" expand=\"full\">Añadir nueva direccion</ion-button>\n  <ion-button (click)=\"gotoHome()\" expand=\"full\">Volver al inicio</ion-button>    \n</ion-footer>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}